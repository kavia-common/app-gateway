{"is_source_file": true, "format": "C++ header file", "description": "This file declares the App2AppProvider class which implements functionalities for an app-to-app communication plugin within the WPEFramework. It includes class definitions, method declarations, and interface mappings essential for plugin operation and external interaction.", "external_files": ["Module.h", "<unordered_map>", "<map>", "<set>", "<atomic>"], "external_methods": ["Exchange::IAppProviderResponse::Success", "Exchange::IAppProviderResponse::Error", "PluginHost::IPlugin::Initialize", "PluginHost::IPlugin::Deinitialize", "PluginHost::IPlugin::Information", "Exchange::IApp2AppProvider::SetGatewaySink", "Exchange::IApp2AppProvider::Register", "Exchange::IApp2AppProvider::Unregister", "Exchange::IApp2AppProvider::Invoke", "Exchange::IApp2AppProvider::OnConnectionClosed", "Core::Sink<Exchange::IAppProviderResponse>::~Sink", "SERVICE_REGISTRATION"], "published": ["App2AppProvider"], "classes": [{"name": "App2AppProvider", "description": "Main plugin class implementing IPlugin and IApp2AppProvider interfaces, managing app-to-app registration, invocation, and connection lifecycle within the plugin architecture."}, {"name": "ProviderResponseSink", "description": "Nested class acting as a sink for handling responses from app providers, encapsulating success and error handling."}], "methods": [{"name": "Success", "description": "Handles successful responses from app providers, delivering invocation results."}, {"name": "Error", "description": "Handles error responses from app providers, delivering error details."}, {"name": "Initialize", "description": "Initializes the plugin with the provided service shell."}, {"name": "Deinitialize", "description": "Performs cleanup when the plugin is deinitialized."}, {"name": "Information", "description": "Returns plugin information string."}, {"name": "SetGatewaySink", "description": "Sets the sink for app gateway responses."}, {"name": "Register", "description": "Registers an app provider for a specific capability."}, {"name": "Unregister", "description": "Unregisters an app provider for a specific capability."}, {"name": "Invoke", "description": "Invokes a capability request on the app providers."}, {"name": "OnConnectionClosed", "description": "Handles logic for closed connections, cleaning up associated providers."}, {"name": "MakeCorrelationId", "description": "Generates a unique correlation ID for requests."}, {"name": "DeliverSuccess", "description": "Delivers a successful invocation result to the sink."}, {"name": "DeliverError", "description": "Delivers an error response to the sink."}, {"name": "ClearProvidersByConnection", "description": "Removes all providers linked to a specific connection ID."}, {"name": "ClearCorrelationsByConnection", "description": "Removes all correlation entries tied to a specific connection ID."}, {"name": "ReleaseAllProviders", "description": "Clears all registered providers."}, {"name": "ProviderResponseSink(App2AppProvider & parent,const std::string & correlationId)", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderResponseSink", "scopeKind": "class", "description": "unavailable"}], "calls": ["Exchange::IAppProviderResponse::Success", "Exchange::IAppProviderResponse::Error", "PluginHost::IPlugin::Initialize", "PluginHost::IPlugin::Deinitialize", "PluginHost::IPlugin::Information", "Exchange::IApp2AppProvider::SetGatewaySink", "Exchange::IApp2AppProvider::Register", "Exchange::IApp2AppProvider::Unregister", "Exchange::IApp2AppProvider::Invoke", "Exchange::IApp2AppProvider::OnConnectionClosed", "SERVICE_REGISTRATION"], "search-terms": ["App2AppProvider", "Exchange::IApp2AppProvider", "IPlugin", "AppProviderResponse", "Register", "Invoke", "ConnectionClosed", "gateway sink"], "state": 2, "file_id": 503, "knowledge_revision": 1011, "git_revision": "", "ctags": [{"_type": "tag", "name": "App2AppProvider", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^class App2AppProvider final : public PluginHost::IPlugin, public Exchange::IApp2AppProvider {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ConsumerContext", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    struct ConsumerContext {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "ProviderEntry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    struct ProviderEntry {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "ProviderResponseSink", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        ProviderResponseSink(App2AppProvider& parent, const std::string& correlationId)$/", "language": "C++", "kind": "function", "signature": "(App2AppProvider & parent,const std::string & correlationId)", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderResponseSink", "scopeKind": "class"}, {"_type": "tag", "name": "ProviderResponseSink", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    class ProviderResponseSink final : public Core::Sink<Exchange::IAppProviderResponse> {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_admin", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    Core::CriticalSection _admin; \\/\\/ protects all below$/", "language": "C++", "typeref": "typename:Core::CriticalSection", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "_capsByConnection", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    std::unordered_map<uint32_t, std::set<std::string>> _capsByConnection;$/", "language": "C++", "typeref": "typename:std::unordered_map<uint32_t,std::set<std::string>>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "_corrCounter", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    std::atomic<uint64_t> _corrCounter;$/", "language": "C++", "typeref": "typename:std::atomic<uint64_t>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "_correlationId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        const std::string _correlationId;$/", "language": "C++", "typeref": "typename:const std::string", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderResponseSink", "scopeKind": "class"}, {"_type": "tag", "name": "_correlations", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    std::unordered_map<std::string, ConsumerContext> _correlations; \\/\\/ correlationId -> consum/", "language": "C++", "typeref": "typename:std::unordered_map<std::string,ConsumerContext>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "_gatewaySink", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    Exchange::IAppGatewayResponses* _gatewaySink {nullptr}; \\/\\/ refcounted$/", "language": "C++", "typeref": "typename:Exchange::IAppGatewayResponses *", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        App2AppProvider& _parent;$/", "language": "C++", "typeref": "typename:App2AppProvider &", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderResponseSink", "scopeKind": "class"}, {"_type": "tag", "name": "_registry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    std::unordered_map<std::string, ProviderEntry> _registry; \\/\\/ capability -> provider$/", "language": "C++", "typeref": "typename:std::unordered_map<std::string,ProviderEntry>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "_service", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^    PluginHost::IShell* _service {nullptr}; \\/\\/ non-refcounted per IPlugin contract$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class"}, {"_type": "tag", "name": "appId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        std::string appId {};$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct"}, {"_type": "tag", "name": "capability", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        std::string capability {};$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        uint32_t connectionId {0};$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        Exchange::RequestContext context {};$/", "language": "C++", "typeref": "typename:Exchange::RequestContext", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "createdAtMs", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        uint64_t createdAtMs {0};$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "provider", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        Exchange::IAppProvider* provider {nullptr};$/", "language": "C++", "typeref": "typename:Exchange::IAppProvider *", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct"}, {"_type": "tag", "name": "registeredAtMs", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/cpp/App2AppProvider.h", "pattern": "/^        uint64_t registeredAtMs {0};$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct"}], "hash": "c6c6fc6d41eaf5cbe0b56366732f761b", "format-version": 4, "code-base-name": "app-gateway", "filename": "App2AppProvider/cpp/App2AppProvider.h", "fields": [{"name": "Core::CriticalSection _admin", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<uint32_t,std::set<std::string>> _capsByConnection", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "std::atomic<uint64_t> _corrCounter", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "const std::string _correlationId", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderResponseSink", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<std::string,ConsumerContext> _correlations", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppGatewayResponses * _gatewaySink", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "App2AppProvider & _parent", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderResponseSink", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<std::string,ProviderEntry> _registry", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * _service", "scope": "WPEFramework::Plugin::App2AppProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string appId", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::string capability", "scope": "WPEFramework::Plugin::App2AppProvider::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t connectionId", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct", "description": "unavailable"}, {"name": "Exchange::RequestContext context", "scope": "WPEFramework::Plugin::App2AppProvider::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint64_t createdAtMs", "scope": "WPEFramework::Plugin::App2AppProvider::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "Exchange::IAppProvider * provider", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint64_t registeredAtMs", "scope": "WPEFramework::Plugin::App2AppProvider::ProviderEntry", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"1011": ""}]}