{"is_source_file": true, "format": "C++ header file", "description": "This file defines a templated queue class `QueueType` within the namespace `WPEFramework::Core`. The class enforces a producer-consumer pattern with thread safety mechanisms, including lock management, state transitions, and queue operations such as post, extract, remove, enable, disable, and flush. It also manages internal state for queue status (empty, entries, limited, disabled). The class is designed for inter-thread communication and synchronization, including support for waiting and notification based on queue state.", "external_files": ["Module.h", "StateTrigger.h", "Sync.h"], "external_methods": ["ASSERT", "TRACE_L5"], "published": ["QueueType", "enumQueueState"], "classes": [{"name": "QueueType", "description": "A thread-safe, templated queue class implementing producer-consumer semantics with watermark control and state management."}], "methods": [{"name": "bool Remove(const CONTEXT & a_Entry)", "description": "Removes specified entry from the queue if present.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "bool Post(const CONTEXT & a_Entry)", "description": "Posts an entry to the queue if not disabled.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "bool Insert(const CONTEXT & a_Entry,uint32_t a_WaitTime)", "description": "Attempts to insert an entry into the queue with waiting, respecting the maximum watermark.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "bool Extract(CONTEXT & a_Result,uint32_t a_WaitTime)", "description": "Extracts an entry from the queue with waiting, returning true if successful.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "void Enable()", "description": "Enables the queue, setting the internal state to empty.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "void Disable()", "description": "Disables the queue, setting the internal state accordingly.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "void Flush()", "description": "Clears all entries when the queue is disabled.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "void FreeSlot() const", "description": "Waits until a free slot is available.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "bool IsEmpty() const", "description": "Checks if the queue is empty.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "bool IsFull() const", "description": "Checks if the queue has reached its maximum capacity.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "uint32_t Length() const", "description": "Returns the current number of entries.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "void Visit(ACTION && action) const", "description": "Applies a provided action to each entry in the queue.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "bool HasEntry(const CONTEXT & element) const", "description": "Checks if a specific entry exists in the queue.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "void Lock() const", "description": "Locks the internal lock for thread safety.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "void Unlock() const", "description": "Unlocks the internal lock.", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"name": "QueueType(const uint32_t a_HighWaterMark)", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class", "description": "unavailable"}, {"name": "~QueueType()", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class", "description": "unavailable"}], "calls": ["ASSERT", "TRACE_L5", "_adminLock.Lock", "_adminLock.Unlock", "std::find", "_state.SetState", "_state.WaitState"], "search-terms": ["producer-consumer queue", "thread-safe queue", "watermark control", "QueueType template", "WPEFramework Core"], "state": 2, "file_id": 470, "knowledge_revision": 974, "git_revision": "19b22d4285ae31d1212bd73fafb23be01bd456ba", "ctags": [{"_type": "tag", "name": "Core", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^namespace Core {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "DISABLED", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^            DISABLED = 0x0008$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Core::QueueType::__anon5d3bbb620103", "scopeKind": "enum"}, {"_type": "tag", "name": "Disable", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        void Disable()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "EMPTY", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^            EMPTY = 0x0001,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Core::QueueType::__anon5d3bbb620103", "scopeKind": "enum"}, {"_type": "tag", "name": "ENTRIES", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^            ENTRIES = 0x0002,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Core::QueueType::__anon5d3bbb620103", "scopeKind": "enum"}, {"_type": "tag", "name": "Enable", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        void Enable()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "Extract", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        bool Extract(CONTEXT& a_Result, uint32_t a_WaitTime)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(CONTEXT & a_Result,uint32_t a_WaitTime)", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "Flush", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        void Flush()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "FreeSlot", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        void FreeSlot() const$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "() const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "HasEntry", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        bool HasEntry(const CONTEXT& element) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const CONTEXT & element) const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "Insert", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        bool Insert(const CONTEXT& a_Entry, uint32_t a_WaitTime)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const CONTEXT & a_Entry,uint32_t a_WaitTime)", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "IsEmpty", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        bool IsEmpty() const$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "() const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "IsFull", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        bool IsFull() const$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "() const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "LIMITED", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^            LIMITED = 0x0004,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Core::QueueType::__anon5d3bbb620103", "scopeKind": "enum"}, {"_type": "tag", "name": "Length", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        uint32_t Length() const$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "() const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        void Lock() const {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "() const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "Post", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        bool Post(const CONTEXT& a_Entry)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const CONTEXT & a_Entry)", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "QueueType", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        explicit QueueType($/", "language": "C++", "kind": "function", "signature": "(const uint32_t a_HighWaterMark)", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "QueueType", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^    class QueueType {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "Remove", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        bool Remove(const CONTEXT& a_Entry)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const CONTEXT & a_Entry)", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "Unlock", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        void Unlock() const {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "() const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "Visit", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        void Visit(ACTION&& action) const {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ACTION && action) const", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__QUEUE_H", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^#define __QUEUE_H$/", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "__anon5d3bbb620103", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        typedef enum {$/", "language": "C++", "kind": "enum", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "_adminLock", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        mutable CriticalSection _adminLock;$/", "language": "C++", "typeref": "typename:CriticalSection", "kind": "member", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "_maxSlots", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        const uint32_t _maxSlots;$/", "language": "C++", "typeref": "typename:const uint32_t", "kind": "member", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "_queue", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        std::list<CONTEXT> _queue;$/", "language": "C++", "typeref": "typename:std::list<CONTEXT>", "kind": "member", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "_state", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        StateTrigger<enumQueueState> _state;$/", "language": "C++", "typeref": "typename:StateTrigger<enumQueueState>", "kind": "member", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "enumQueueState", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        } enumQueueState;$/", "language": "C++", "typeref": "enum:WPEFramework::Core::QueueType::__anon5d3bbb620103", "kind": "typedef", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}, {"_type": "tag", "name": "~QueueType", "path": "/home/kavia/workspace/code-generation/app-gateway/dependencies/install/include/WPEFramework/core/Queue.h", "pattern": "/^        ~QueueType()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class"}], "hash": "5fe3f1ef0bf5648c539480a0ea059fb5", "format-version": 4, "code-base-name": "app-gateway", "filename": "dependencies/install/include/WPEFramework/core/Queue.h", "fields": [{"name": "CriticalSection _adminLock", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class", "description": "unavailable"}, {"name": "const uint32_t _maxSlots", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class", "description": "unavailable"}, {"name": "std::list<CONTEXT> _queue", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class", "description": "unavailable"}, {"name": "StateTrigger<enumQueueState> _state", "scope": "WPEFramework::Core::QueueType", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"974": "19b22d4285ae31d1212bd73fafb23be01bd456ba"}]}