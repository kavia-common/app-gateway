{"is_source_file": true, "format": "C++", "description": "Source file implementing the BadgerPlugin class, which provides JSON-RPC endpoints for permission checking and management within the WPEFramework plugin architecture. It includes definitions for DTOs, utility functions, and endpoint implementations related to permissions and capabilities.", "external_files": ["Badger/BadgerPlugin.h"], "external_methods": ["WPEFramework::Core::JSON::Container::Add", "WPEFramework::Core::JSON::Variant::FromString", "Core::JSON::Object::Get", "Core::JSON::Object::Set", "Core::JSON::ArrayType::Add", "Core::JSON::String::Value", "Core::JSON::Boolean::operator=", "Registry::LoadFromFile", "PermissionService::CheckCapability", "PermissionService::CheckAll", "PermissionService::ListCapabilities", "PermissionService::ListFireboltPermissions", "PluginHost::IShell::ConfigLine"], "published": ["org.rdk.Badger.permissions.check", "org.rdk.Badger.permissions.checkAll", "org.rdk.Badger.permissions.listCaps", "org.rdk.Badger.permissions.listFireboltPermissions", "org.rdk.Badger.permissions.listMethods", "org.rdk.Badger.ping"], "classes": [{"name": "CheckItem", "description": "DTO for individual permission item with capability and role fields."}, {"name": "CheckAllParams", "description": "DTO containing a list of CheckItem objects for batch permission checks."}, {"name": "CheckParams", "description": "DTO for permission check parameters with capability and role."}], "methods": [{"name": "void RegisterAll()", "description": "Registers all JSON-RPC endpoints of the Badger plugin.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "void UnregisterAll()", "description": "Unregisters all JSON-RPC endpoints.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "const string Initialize(PluginHost::IShell * service)", "description": "Initializes the plugin, loads configuration, registry, and sets up permission services.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "void Deinitialize(PluginHost::IShell *)", "description": "Cleans up resources upon deinitialization.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "string Information() const", "description": "Returns a descriptive string about the plugin.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "uint32_t endpoint_ping(Core::JSON::String & response)", "description": "Responds with 'pong' to indicate the plugin is alive.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "uint32_t endpoint_permissions_listMethods(Core::JSON::ArrayType<Core::JSON::String> & response)", "description": "Returns a list of available permission-related methods.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "uint32_t endpoint_permissions_check(const Core::JSON::Variant & parameters,Core::JSON::Boolean & response)", "description": "Checks if a capability with a specified role is permitted.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "uint32_t endpoint_permissions_checkAll(const Core::JSON::Variant & parameters,Core::JSON::ArrayType<Core::JSON::Object> & response)", "description": "Checks multiple capabilities and roles in batch, returning results.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "uint32_t endpoint_permissions_listCaps(Core::JSON::ArrayType<Core::JSON::String> & response)", "description": "Lists all capabilities the plugin knows about.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "uint32_t endpoint_permissions_listFireboltPermissions(Core::JSON::ArrayType<Core::JSON::String> & response)", "description": "Lists firebolt-specific permissions.", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"name": "std::string NormalizeRole(const std::string & role)", "description": "Helper to normalize role strings to 'use', 'manage', or 'provide'.", "scope": "__anon03b612a70111", "scopeKind": "namespace"}, {"name": "std::string ToLower(std::string s)", "description": "Converts strings to lowercase.", "scope": "__anon03b612a70111", "scopeKind": "namespace"}, {"name": "Badger()", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class", "description": "unavailable"}, {"name": "CheckAllParams()", "scope": "__anon03b612a70111::CheckAllParams", "scopeKind": "struct", "description": "unavailable"}, {"name": "CheckItem()", "scope": "__anon03b612a70111::CheckItem", "scopeKind": "struct", "description": "unavailable"}, {"name": "CheckParams()", "scope": "__anon03b612a70111::CheckParams", "scopeKind": "struct", "description": "unavailable"}, {"name": "__anon03b612a70202(unsigned char c)", "scope": "__anon03b612a70111::ToLower", "scopeKind": "function", "description": "unavailable"}, {"name": "~Badger()", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class", "description": "unavailable"}], "calls": ["Register", "Unregister", "Core::JSON::Variant::FromString", "Core::JSON::Object::Get", "Core::JSON::Object::Set", "Registry::LoadFromFile", "PermissionService::CheckCapability", "PermissionService::CheckAll", "PermissionService::ListCapabilities", "PermissionService::ListFireboltPermissions"], "search-terms": ["BadgerPlugin.cpp", "PermissionService", "CheckItem", "permissions.check", "permissions.listCaps", "permissions.checkAll", "permissions.listFireboltPermissions", "endpoint_permissions"], "state": 2, "file_id": 50, "knowledge_revision": 117, "git_revision": "65ae01571b46d2a11f6f0978848ba57698673564", "revision_history": [{"103": "5f72cb2651e336c751a5ac763e100158c790b1a1"}, {"108": "5f72cb2651e336c751a5ac763e100158c790b1a1"}, {"117": "65ae01571b46d2a11f6f0978848ba57698673564"}], "ctags": [{"_type": "tag", "name": "Badger", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^Badger::Badger()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "CheckAllParams", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    CheckAllParams() {$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "__anon03b612a70111::CheckAllParams", "scopeKind": "struct"}, {"_type": "tag", "name": "CheckAllParams", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^struct CheckAllParams : public WPEFramework::Core::JSON::Container {$/", "file": true, "language": "C++", "kind": "struct", "scope": "__anon03b612a70111", "scopeKind": "namespace"}, {"_type": "tag", "name": "CheckItem", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    CheckItem() {$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "__anon03b612a70111::CheckItem", "scopeKind": "struct"}, {"_type": "tag", "name": "CheckItem", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^struct CheckItem : public WPEFramework::Core::JSON::Container {$/", "file": true, "language": "C++", "kind": "struct", "scope": "__anon03b612a70111", "scopeKind": "namespace"}, {"_type": "tag", "name": "CheckParams", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    CheckParams() {$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "__anon03b612a70111::CheckParams", "scopeKind": "struct"}, {"_type": "tag", "name": "CheckParams", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^struct CheckParams : public WPEFramework::Core::JSON::Container {$/", "file": true, "language": "C++", "kind": "struct", "scope": "__anon03b612a70111", "scopeKind": "namespace"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^void Badger::Deinitialize(PluginHost::IShell* \\/*service*\\/) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell *)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "Information", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^string Badger::Information() const {$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^const string Badger::Initialize(PluginHost::IShell* service) {$/", "language": "C++", "typeref": "typename:const string", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "NormalizeRole", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^static std::string NormalizeRole(const std::string& role) {$/", "file": true, "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const std::string & role)", "scope": "__anon03b612a70111", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RegisterAll", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^void Badger::RegisterAll() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "ToLower", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^static std::string ToLower(std::string s) {$/", "file": true, "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(std::string s)", "scope": "__anon03b612a70111", "scopeKind": "namespace"}, {"_type": "tag", "name": "UnregisterAll", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^void Badger::UnregisterAll() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon03b612a70111", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon03b612a70202", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^                   [](unsigned char c) { return static_cast<char>(std::tolower(c)); });$/", "file": true, "language": "C++", "kind": "function", "signature": "(unsigned char c) ", "scope": "__anon03b612a70111::ToLower", "scopeKind": "function"}, {"_type": "tag", "name": "capability", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    WPEFramework::Core::JSON::String capability;$/", "file": true, "language": "C++", "typeref": "typename:WPEFramework::Core::JSON::String", "kind": "member", "scope": "__anon03b612a70111::CheckItem", "scopeKind": "struct"}, {"_type": "tag", "name": "capability", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    WPEFramework::Core::JSON::String capability;$/", "file": true, "language": "C++", "typeref": "typename:WPEFramework::Core::JSON::String", "kind": "member", "scope": "__anon03b612a70111::CheckParams", "scopeKind": "struct"}, {"_type": "tag", "name": "endpoint_permissions_check", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^uint32_t Badger::endpoint_permissions_check(const Core::JSON::Variant& parameters, Core::JSON::B/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Core::JSON::Variant & parameters,Core::JSON::Boolean & response)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_permissions_checkAll", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^uint32_t Badger::endpoint_permissions_checkAll(const Core::JSON::Variant& parameters, Core::JSON/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Core::JSON::Variant & parameters,Core::JSON::ArrayType<Core::JSON::Object> & response)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_permissions_listCaps", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^uint32_t Badger::endpoint_permissions_listCaps(Core::JSON::ArrayType<Core::JSON::String>& respon/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(Core::JSON::ArrayType<Core::JSON::String> & response)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_permissions_listFireboltPermissions", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^uint32_t Badger::endpoint_permissions_listFireboltPermissions(Core::JSON::ArrayType<Core::JSON::/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(Core::JSON::ArrayType<Core::JSON::String> & response)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_permissions_listMethods", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^uint32_t Badger::endpoint_permissions_listMethods(Core::JSON::ArrayType<Core::JSON::String>& res/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(Core::JSON::ArrayType<Core::JSON::String> & response)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_ping", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^uint32_t Badger::endpoint_ping(Core::JSON::String& response) {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(Core::JSON::String & response)", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    WPEFramework::Core::JSON::ArrayType<CheckItem> items;$/", "file": true, "language": "C++", "typeref": "typename:WPEFramework::Core::JSON::ArrayType<CheckItem>", "kind": "member", "scope": "__anon03b612a70111::CheckAllParams", "scopeKind": "struct"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    WPEFramework::Core::JSON::String role;$/", "file": true, "language": "C++", "typeref": "typename:WPEFramework::Core::JSON::String", "kind": "member", "scope": "__anon03b612a70111::CheckItem", "scopeKind": "struct"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^    WPEFramework::Core::JSON::String role;$/", "file": true, "language": "C++", "typeref": "typename:WPEFramework::Core::JSON::String", "kind": "member", "scope": "__anon03b612a70111::CheckParams", "scopeKind": "struct"}, {"_type": "tag", "name": "~Badger", "path": "/home/kavia/workspace/code-generation/app-gateway/Badger/src/BadgerPlugin.cpp", "pattern": "/^Badger::~Badger() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Badger", "scopeKind": "class"}], "hash": "f4ca4f4a4ee8dc8cb830559c2d53c975", "format-version": 4, "code-base-name": "app-gateway", "filename": "Badger/src/BadgerPlugin.cpp", "fields": [{"name": "WPEFramework::Core::JSON::String capability", "scope": "__anon03b612a70111::CheckItem", "scopeKind": "struct", "description": "unavailable"}, {"name": "WPEFramework::Core::JSON::ArrayType<CheckItem> items", "scope": "__anon03b612a70111::CheckAllParams", "scopeKind": "struct", "description": "unavailable"}, {"name": "WPEFramework::Core::JSON::String role", "scope": "__anon03b612a70111::CheckItem", "scopeKind": "struct", "description": "unavailable"}]}