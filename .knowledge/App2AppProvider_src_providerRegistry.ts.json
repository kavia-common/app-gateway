{"is_source_file": true, "format": "TypeScript", "description": "This file defines the ProviderRegistry class, which manages a mapping between capabilities and providers, supporting registration, unregistration, lookup, and cleanup based on connection IDs.", "external_files": ["./types"], "external_methods": [], "published": ["ProviderRegistry"], "classes": [{"name": "ProviderRegistry", "description": "A class that manages the association between capabilities and providers, allowing registration, unregistration, lookup, and cleanup by connection."}], "methods": [{"name": "register", "description": "Associates a capability with a provider identified by appId and connectionId."}, {"name": "unregister", "description": "Removes a capability's provider association if owned by the specified connectionId."}, {"name": "find", "description": "Retrieves the ProviderEntry for a given capability."}, {"name": "cleanupByConnection", "description": "Removes all capabilities registered by a specific connection."}], "calls": ["Date.now()", "this.capabilityToProvider.set()", "this.capabilitiesByConnection.get()", "set.add()", "this.capabilitiesByConnection.set()", "this.capabilityToProvider.get()", "this.capabilityToProvider.delete()", "this.capabilitiesByConnection.delete()"], "search-terms": ["ProviderRegistry", "capabilityToProvider", "capabilitiesByConnection", "register", "unregister", "cleanupByConnection"], "state": 2, "file_id": 38, "knowledge_revision": 85, "git_revision": "084cc88e45a7d0154f69932fcd994e4e1f9262bd", "ctags": [{"_type": "tag", "name": "ProviderRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^export class ProviderRegistry {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "capability", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    for (const capability of set) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "capabilityToProvider", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^  private capabilityToProvider: Map<string, ProviderEntry> = new Map();$/", "language": "TypeScript", "kind": "property", "scope": "ProviderRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      connectionId,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      const entry = this.capabilityToProvider.get(capability);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const entry = this.capabilityToProvider.get(capability);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const entry: ProviderEntry = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "registeredAt", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      registeredAt: Date.now()$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const set = this.capabilitiesByConnection.get(connectionId) ?? new Set<string>();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const set = this.capabilitiesByConnection.get(connectionId);$/", "language": "TypeScript", "kind": "constant"}], "hash": "a53d1b85a728bf4e353c1b07ade7aaa1", "format-version": 4, "code-base-name": "app-gateway", "filename": "App2AppProvider/src/providerRegistry.ts", "fields": [{"name": "private capabilityToProvider: Map<string, ProviderEntry> = new Map();", "scope": "ProviderRegistry", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"85": "084cc88e45a7d0154f69932fcd994e4e1f9262bd"}]}