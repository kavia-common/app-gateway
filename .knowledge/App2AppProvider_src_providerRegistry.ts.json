{"is_source_file": true, "format": "TypeScript", "description": "This file defines a class ProviderRegistry that manages a mapping between capabilities and providers, including registration, unregistration, lookup, and cleanup based on connection IDs.", "external_files": ["./types"], "external_methods": ["Date.now()"], "published": ["ProviderRegistry"], "classes": [{"name": "ProviderRegistry", "description": "A class that maintains mappings from capabilities to provider entries, supporting registration, unregistration, lookup, and cleanup operations."}], "methods": [{"name": "register", "description": "Registers or replaces the provider for a given capability with specified application and connection IDs."}, {"name": "unregister", "description": "Unregisters a capability if it is owned by the provided connection ID."}, {"name": "find", "description": "Finds and returns the provider entry for a specific capability, or undefined if not found."}, {"name": "cleanupByConnection", "description": "Removes all capabilities associated with a specific connection ID, typically invoked when the connection is closed or detached."}], "calls": ["this.capabilityToProvider.set", "this.capabilityToProvider.delete", "this.capabilitiesByConnection.get", "this.capabilitiesByConnection.set"], "search-terms": ["ProviderRegistry", "capabilityToProvider", "capabilitiesByConnection", "register", "unregister", "cleanupByConnection", "ProviderEntry"], "state": 2, "file_id": 5, "knowledge_revision": 1005, "git_revision": "03b353076795cc205feb55eb2d1c5d8140d79e7d", "revision_history": [{"11": ""}, {"25": "084cc88e45a7d0154f69932fcd994e4e1f9262bd"}, {"1005": "03b353076795cc205feb55eb2d1c5d8140d79e7d"}], "ctags": [{"_type": "tag", "name": "ProviderRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^export class ProviderRegistry {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "cap", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    for (const cap of set) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "capabilityToProvider", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^  private readonly capabilityToProvider = new Map<string, ProviderEntry>();$/", "language": "TypeScript", "kind": "property", "scope": "ProviderRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      connectionId,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      const entry = this.capabilityToProvider.get(cap);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const entry = this.capabilityToProvider.get(capability);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const entry: ProviderEntry = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "registeredAt", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      registeredAt: Date.now()$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const set = this.capabilitiesByConnection.get(connectionId) ?? new Set<string>();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const set = this.capabilitiesByConnection.get(connectionId);$/", "language": "TypeScript", "kind": "constant"}], "hash": "08aff63b1c65913deb3ad99c3951002a", "format-version": 4, "code-base-name": "app-gateway", "filename": "App2AppProvider/src/providerRegistry.ts", "fields": [{"name": "private readonly capabilityToProvider = new Map<string, ProviderEntry>();", "scope": "ProviderRegistry", "scopeKind": "class", "description": "unavailable"}]}