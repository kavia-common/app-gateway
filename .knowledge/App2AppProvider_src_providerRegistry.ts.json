{"is_source_file": true, "format": "TypeScript", "description": "This file defines the ProviderRegistry class that manages the mapping between capabilities and providers, handles registration, unregistration, lookup, and cleanup based on connection identifiers.", "external_files": ["./types"], "external_methods": [], "published": ["ProviderRegistry"], "classes": [{"name": "ProviderRegistry", "description": "A class that maintains internal maps to associate capabilities with provider entries and manage providers by connection ID."}], "methods": [{"name": "register", "description": "Registers or replaces a provider for a specified capability, associating it with an appId and connectionId."}, {"name": "unregister", "description": "Unregisters a provider for a capability if it belongs to the specified connectionId."}, {"name": "find", "description": "Retrieves the ProviderEntry associated with a given capability, if it exists."}, {"name": "cleanupByConnection", "description": "Removes all capabilities registered by a specific connection, cleaning up internal maps accordingly."}], "calls": ["this.capabilityToProvider.set", "this.capabilitiesByConnection.get", "set.add", "this.capabilitiesByConnection.set", "this.capabilityToProvider.get", "this.capabilityToProvider.delete", "this.capabilitiesByConnection.delete"], "search-terms": ["ProviderRegistry", "capabilityToProvider", "capabilitiesByConnection", "register", "unregister", "cleanupByConnection"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "ProviderRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^export class ProviderRegistry {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "capability", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    for (const capability of set) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "capabilityToProvider", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^  private capabilityToProvider: Map<string, ProviderEntry> = new Map();$/", "language": "TypeScript", "kind": "property", "scope": "ProviderRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      connectionId,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      const entry = this.capabilityToProvider.get(capability);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const entry = this.capabilityToProvider.get(capability);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const entry: ProviderEntry = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "registeredAt", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^      registeredAt: Date.now()$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const set = this.capabilitiesByConnection.get(connectionId) ?? new Set<string>();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/providerRegistry.ts", "pattern": "/^    const set = this.capabilitiesByConnection.get(connectionId);$/", "language": "TypeScript", "kind": "constant"}], "hash": "a53d1b85a728bf4e353c1b07ade7aaa1", "format-version": 4, "code-base-name": "app-gateway", "filename": "App2AppProvider/src/providerRegistry.ts", "fields": [{"name": "private capabilityToProvider: Map<string, ProviderEntry> = new Map();", "scope": "ProviderRegistry", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"11": ""}]}