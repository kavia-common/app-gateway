{"is_source_file": true, "format": "TypeScript", "description": "This file defines the CorrelationStore class which manages pending consumer request contexts, identified by correlation IDs. It includes methods for creating, retrieving, and cleaning up entries, as well as an internal function for generating random IDs.", "external_files": ["./types"], "external_methods": ["cryptoRandomId"], "published": ["CorrelationStore"], "classes": [{"name": "CorrelationStore", "description": "A class that maintains a map of correlation IDs to consumer contexts, providing methods to create, find, erase, and clean up these entries."}], "methods": [{"name": "create", "description": "Creates a new correlation ID for a given consumer context and stores it in the internal map."}, {"name": "findAndErase", "description": "Retrieves the context associated with a correlation ID and removes it from the map, intended for one-time lookup."}, {"name": "cleanupByConnection", "description": "Removes all entries associated with a specific connection ID, useful for cleanup on connection detach."}, {"name": "function cryptoRandomId(): string { cryptoRandomId", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["cryptoRandomId"], "search-terms": ["CorrelationStore", "create", "findAndErase", "cleanupByConnection", "correlationId", "ConsumerContext"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "CorrelationStore", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^export class CorrelationStore {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "byCorrelationId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^  private byCorrelationId: Map<string, ConsumerContext> = new Map();$/", "language": "TypeScript", "kind": "property", "scope": "CorrelationStore", "scopeKind": "class"}, {"_type": "tag", "name": "correlationId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^    const correlationId = cryptoRandomId();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "cryptoRandomId", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^function cryptoRandomId(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "ctx", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^    const ctx = this.byCorrelationId.get(correlationId);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ctx", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^    for (const [id, ctx] of this.byCorrelationId.entries()) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^    for (const [id, ctx] of this.byCorrelationId.entries()) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "rnd", "path": "/home/kavia/workspace/code-generation/app-gateway/App2AppProvider/src/correlationStore.ts", "pattern": "/^  const rnd = () => Math.floor(Math.random() * 0xffffffff).toString(16).padStart(8, '0');$/", "language": "TypeScript", "kind": "constant", "scope": "cryptoRandomId", "scopeKind": "function"}], "hash": "f7ae2395babf4d8fd0222042108f2667", "format-version": 4, "code-base-name": "app-gateway", "filename": "App2AppProvider/src/correlationStore.ts", "fields": [{"name": "private byCorrelationId: Map<string, ConsumerContext> = new Map();", "scope": "CorrelationStore", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"13": ""}]}